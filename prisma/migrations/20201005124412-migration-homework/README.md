# Migration `20201005124412-migration-homework`

This migration has been generated by Abhinandan GP at 10/5/2020, 12:44:12 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."home_work" (
"class_session_id" integer  NOT NULL ,
"course_id" integer  NOT NULL ,
"created_at" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,
"id" SERIAL,
"isTeacher" boolean  NOT NULL DEFAULT true,
"url" text  NOT NULL ,
"user_id" integer  NOT NULL ,
    PRIMARY KEY ("id"))

ALTER TABLE "public"."home_work" ADD FOREIGN KEY ("class_session_id")REFERENCES "public"."class_session"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."home_work" ADD FOREIGN KEY ("user_id")REFERENCES "public"."user"("id") ON DELETE CASCADE  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201004112953-migration-payment..20201005124412-migration-homework
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model authentication_provider {
   created_at    DateTime @default(now())
@@ -32,8 +32,9 @@
   course             course               @relation(fields: [course_id], references: [id])
   student_attendance student_attendance[]
   teacher_rating     teacher_rating[]
   student_rating     student_rating[]
+  home_work          home_work[]
 }
 model course {
   academy             String?
@@ -287,5 +288,17 @@
   user_id                 Int
   razorpay_payment_id     String
   razorpay_order_id       String
   razorpay_signature      String
+}
+
+model home_work {
+  id                 Int                  @default(autoincrement()) @id
+  created_at         DateTime             @default(now())
+  url                String
+  user_id            Int  
+  course_id          Int          
+  class_session_id   Int
+  isTeacher          Boolean              @default(true)
+  class_session      class_session @relation(fields: [class_session_id], references: [id])
+  user               user          @relation(fields: [user_id], references: [id])
 }
```


