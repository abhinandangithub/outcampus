# Migration `20200921090723-migration-discount`

This migration has been generated by Abhinandan GP at 9/21/2020, 9:07:23 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."discount_coupon" (
"code" text  NOT NULL ,
"created_at" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,
"endTime" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,
"id" SERIAL,
"isActive" boolean  NOT NULL DEFAULT true,
"startTime" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,
"value" integer  NOT NULL ,
    PRIMARY KEY ("id"))

ALTER TABLE "public"."discount_coupon" ADD FOREIGN KEY ("id")REFERENCES "public"."user"("id") ON DELETE CASCADE  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200827015119-added_trial_date_time_to_register..20200921090723-migration-discount
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model authentication_provider {
   created_at    DateTime @default(now())
@@ -264,5 +264,16 @@
   created_at              DateTime                  @default(now())
   updated_at              DateTime                  @default(now())
   free_trial_date_id      Int
   free_trial_date         free_trial_date          @relation(fields: [free_trial_date_id], references: [id])
+}
+
+model discount_coupon {
+  id Int @default(autoincrement()) @id
+  code                    String                    
+  startTime               DateTime                  @default(now())
+  endTime                 DateTime                  @default(now())
+  created_at              DateTime                  @default(now())
+  isActive                Boolean                   @default(true)
+  value                   Int
+  user                    user                      @relation(fields: [id], references: [id])
 }
```


