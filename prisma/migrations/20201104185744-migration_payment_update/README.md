# Migration `20201104185744-migration_payment_update`

This migration has been generated by Abhinandan GP at 11/4/2020, 6:57:44 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."payment" ADD COLUMN "amount" integer  NOT NULL DEFAULT 0,
ADD COLUMN "discount_amount" integer  NOT NULL DEFAULT 0;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201014132532-migration_discount_mapping_remove..20201104185744-migration_payment_update
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model authentication_provider {
   created_at    DateTime @default(now())
@@ -32,8 +32,9 @@
   course             course               @relation(fields: [course_id], references: [id])
   student_attendance student_attendance[]
   teacher_rating     teacher_rating[]
   student_rating     student_rating[]
+  home_work          home_work[]
 }
 model course {
   academy             String?
@@ -287,5 +288,19 @@
   user_id                 Int
   razorpay_payment_id     String
   razorpay_order_id       String
   razorpay_signature      String
+  amount                  Int                       @default(0)  
+  discount_amount         Int                       @default(0)  
+}
+
+model home_work {
+  id                 Int                  @default(autoincrement()) @id
+  created_at         DateTime             @default(now())
+  url                String
+  user_id            Int  
+  course_id          Int          
+  class_session_id   Int
+  isTeacher          Boolean              @default(true)
+  class_session      class_session        @relation(fields: [class_session_id], references: [id])
+  user               user                 @relation(fields: [user_id], references: [id])
 }
```


